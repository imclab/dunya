{% extends "carnatic/base.html" %}
{% load inline %}
{% load badges %}
{% load staticfiles %}

{% block script %}
<script src="http://builds.handlebarsjs.com.s3.amazonaws.com/handlebars-v1.3.0.js"></script>
<script src="http://builds.emberjs.com/release/ember.js"></script>
<script src="http://builds.emberjs.com/tags/v1.0.0-beta.5/ember-data.js"></script>
<!--<script src="http://builds.emberjs.com/canary/ember.js"></script>
<script src="http://builds.emberjs.com/canary/ember-data.js"></script> -->
<!-- <script src="{% static 'carnatic/js/browse.js' %}"></script> -->
<script src="{% static 'carnatic/js/application.js' %}"></script>
{% endblock %}
{% block extra_css %}
    {% if debug %}
    {% load less %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% get_static_prefix %}{% less 'carnatic/css/browse.less' %}" />
    {% if request.COOKIES.presentationMode == "on" %}
    <link rel="stylesheet" type="text/css" href="{% get_static_prefix %}{% less 'carnatic/css/presentation.less' %}" />
    {% endif %}
    {% else %}
    <link rel="stylesheet" type="text/css" href="{% static 'carnatic/css/browse.css' %}" />
    {% if request.COOKIES.presentationMode == "on" %}
    <link rel="stylesheet" type="text/css" href="{% static 'carnatic/css/presentation.css' %}" />
    {% endif %}
    {% endif %}
{% endblock %}

{% block title %}{% if querytext %}{{querytext}} - {% elif querybrowse %}Browsing - {% endif %}{% endblock %}

{% block wrap %}

<script type="text/x-handlebars" data-template-name="home">
<div class="main-container">
    <div id="filterMask">
        <div id="filterArea">
            <div id="entitiesList" class="filterList">
                <ul id="select-list">
                    {% verbatim %}
                    {{#each itemController="select"}}
                    <li {{bind-attr class="entity selected:selected"}}>
                    <div class="colorCode shadow1"></div>{{name}}</li>
                    {{/each}}
                    {% endverbatim %}
                </ul>
            </div>

            <div id="filterModel" class="filters raaga">
                <div class="filterBall shadow1">
                    <span>Raaga</span>
                    <div class="arrow"></div>
                    <div class="filterSummary shadow1"></div>
                    <div class="closeFilter"></div><div class="resizeFilter"></div>
                </div>
                <!--<div class="formFilter"></div>-->
                <div class="filterList filterGlobalList">
                    <ul><li data-id="1">Ābhēri</li><li data-id="2">Ābhōgi</li><li data-id="199">Āhir bhairav</li><li data-id="134">Āhiri</li><li data-id="251">Amṛtavāhiṇi</li><li data-id="111">Amṛtavarṣiṇi</li><li data-id="141">Ānandabhairavi</li><li data-id="148">Āndōḷika</li><li data-id="4">Ārabhi</li><li data-id="5">Asāvēri</li><li data-id="6">Aṭāna</li><li data-id="102">Bāgēśrī</li><li data-id="7">Bahudāri</li><li data-id="213">Balahaṁsa</li><li data-id="110">Bauḷi</li><li data-id="8">Bēgaḍa</li><li data-id="9">Behāg</li><li data-id="10">Bhairavi</li><li data-id="74">Bhavāni</li><li data-id="252">Bhāvapriya</li><li data-id="76">Bhīmpalāsi</li><li data-id="178">Bhōga sāvēri</li><li data-id="245">Bhūpāḷaṁ</li><li data-id="189">Bhūṣāvaḷi</li><li data-id="11">Bilahari</li><li data-id="185">Bṛndāvana sāranga</li><li data-id="65">Bṛndāvani</li><li data-id="253">Budamanōhari</li><li data-id="94">Cakravākaṁ</li><li data-id="222">Candrajyōti</li><li data-id="183">Candrakauns</li><li data-id="62">Carturdaśa rāgamālika</li><li data-id="232">Cārukēśi</li><li data-id="192">Cāyānāṭa</li><li data-id="132">Cāyātarangiṇi</li><li data-id="115">Cencu kāmbhōji</li><li data-id="104">Cintāmaṇi</li><li data-id="223">Cittaranjani</li></ul> 
                </div>
            </div>

            <div id="breadcrumb">
            </div>

        </div>

     </div>

     <div id="tab">
         {% comment %} to make the search box pop up, don't need it yet{%endcomment%}
         <!--<div id="tabControl"></div>-->
    </div>

     <div id="resultsstats">
        <table>
            <tbody><tr>
                <td>
                    <div id="queryCont">
                            <span>Query</span>
                        <div id="query" class="shadow1">
                        </div>
                     </div>
                 </td>
                 <td class="artist" onClick="filterPackery('.artist');"><span>{{numartists}}</span> <b>Artist{{numartists|pluralize}}</b></td>
                 <td class="concert" onClick="filterPackery('.concert');"><span>{{numconcerts}}</span> <b>Concert{{numconcerts|pluralize}}</b></td>
                 <td class="instrument" onClick="filterPackery('.instrument');"><span>{{numinstruments}}</span> <b>Instrument{{numinstruments|pluralize}}</b></td>
                 <td class="raaga" onClick="filterPackery('.raaga');"><span>{{numraagas}}</span> <b>Raaga{{numraagas|pluralize}}</b></td>
                 <td class="taala" onClick="filterPackery('.taala');"><span>{{numtaalas}}</span> <b>Taala{{numtaalas|pluralize}}</b></td>
            </tr>
        </tbody></table>
     </div>
     {% if searcherror %}
        <h2 class="resultsTitle">Sorry, we are having trouble searching. Please try again.</h2>
     {% elif query %}
        <h2 class="resultsTitle">Query results:</h2>
     {% else %}
         <h2 class="resultsTitle">Some items from our collection:</h2>
     {% endif %}
     <div id="searchresults">
         {% comment %}
        {% for type, item in results %}
            {% if type == "concert" %}
                {% badge_concert item %}
            {% elif type == "artist" %}
                {% badge_artist item %}
            {% elif type == "instrument" %}
                {% badge_instrument item %}
            {% elif type == "raaga" %}
                {% badge_raaga item %}
            {% elif type == "taala" %}
                {% badge_taala item %}
            {% endif %}
        {% endfor %}
        {% endcomment %}
     </div>
    </div>
</script>

{% endblock %}
